// style.scss
@use "../styles/tokens" as *;
@use "../styles/mixins" as *;

/* ==========================================================
   FAQ Page Styles (cleaned)
   Mobileâ€‘first. Desktop tweaks inside `respond(md)` per selector.
   ========================================================== */

/* Root */
.faq {
	background: var(--color-bg);
}

figure {
	align-self: center;
	justify-self: center;
}
.faq__bulb {
	// width: 220px; /* or whatever fits */
	color: var(--brand-1); /* brand-purple */
}

// ssss

.faq {
	.accordion-item__inner {
		padding: var(--space-4) var(--space-6) var(--space-12) var(--space-6);
		.answer {
			color: var(--brand-1);
			max-width: 70ch;
		}
	}
}

/* ----------------------------------------------------------
   Intro (headline + search + optional visual)
   ---------------------------------------------------------- */
.faq .faq__intro {
	display: grid;
	gap: var(--space-6);

	@include respond(md) {
		grid-template-columns: 1.1fr 0.9fr;
		align-items: center;
		gap: var(--space-10);
	}

	.faq__intro-copy {
		.eyebrow {
			letter-spacing: 0.08em;
			text-transform: uppercase;
			color: var(--brand-3);
			margin-bottom: var(--space-2);
			font-size: inherit; /* use global scale */
		}

		h1 {
			color: var(--brand-1);
			margin-bottom: var(--space-3);
		}

		.lead {
			color: var(--color-muted);
			margin-bottom: var(--space-5);
		}

		.faq__search {
			display: grid;
			gap: var(--space-2);

			input[type="search"] {
				width: 100%;
				padding: var(--space-3) var(--space-4);
				border: 1px solid var(--brand-8);
				border-radius: var(--radius-sm);
				background: var(--color-surface);
				color: var(--color-text);
				transition: border-color 0.15s ease;

				&:focus {
					outline: none;
					border-color: var(--brand-1);
				}
			}
		}
	}

	.faq__visual {
		display: none;

		@include respond(md) {
			display: block;
		}

		.faq__placeholder {
			width: 100%;
			aspect-ratio: 4 / 3;
			border-radius: var(--radius-md);
			background: var(--brand-8);
			display: grid;
			place-items: center;
			color: var(--brand-1);
		}
	}
}

/* ----------------------------------------------------------
   Body layout (sticky TOC + content)
   ---------------------------------------------------------- */
.faq .faq__layout {
	display: grid;
	gap: var(--space-8);
	margin-top: var(--space-8);

	@include respond(md) {
		grid-template-columns: 260px 1fr;
		gap: var(--space-12);
		align-items: start;
	}
}

/* ----------------------------------------------------------
   Content area (groups + accordion items)
   ---------------------------------------------------------- */
.faq .faq__content {
	/* Empty state */
	.faq__empty {
		background: var(--brand-8);
		border: 1px solid var(--brand-8);
		border-radius: var(--radius-md);
		padding: var(--space-6);

		p {
			margin-bottom: var(--space-3);
		}
	}

	/* Group */
	.faq-group {
		margin-bottom: var(--space-12);
		scroll-margin-top: var(
			--space-16
		); /* keep title visible below sticky header */

		.faq-group__header {
			display: flex;
			align-items: center;
			justify-content: space-between;
			gap: var(--space-3);
			margin-bottom: var(--space-4);

			h2 {
				margin: 0;
				color: var(--brand-1);
			}
		}

		.faq-accordion {
			background: var(--color-surface);
			border: 1px solid var(--brand-8);
			border-radius: var(--radius-md);
			overflow: hidden;
		}
	}

	/* Item (details + summary) */
	.faq-item {
		border-bottom: 1px solid var(--brand-8);

		&:last-child {
			border-bottom: 0;
		}

		summary {
			list-style: none;
			cursor: pointer;
			padding: var(--space-4) var(--space-5);
			display: grid;
			grid-template-columns: 1fr auto;
			align-items: center;
			gap: var(--space-3);
			background: var(--color-surface);

			&::-webkit-details-marker {
				display: none;
			}

			.faq-item__q {
				color: var(--color-text);
			}

			.faq-item__icon {
				width: 1rem;
				height: 1rem;
				border: 2px solid var(--brand-1);
				border-radius: 2px;
				position: relative;
			}

			.faq-item__icon::before,
			.faq-item__icon::after {
				content: "";
				position: absolute;
				left: 50%;
				top: 50%;
				translate: -50% -50%;
				background: var(--brand-1);
				transition: transform 0.18s ease;
			}
			.faq-item__icon::before {
				width: 10px;
				height: 2px;
			}
			.faq-item__icon::after {
				width: 2px;
				height: 10px;
			}
		}

		/* open -> minus */
		&[open] summary .faq-item__icon::after {
			transform: scaleY(0);
		}

		.faq-item__a {
			padding: 0 var(--space-5) var(--space-5);
			line-height: 1.7;

			p {
				margin-top: var(--space-3);
			}

			.faq-item__permalink {
				margin-top: var(--space-3);
			}
		}
	}
}

/* ----------------------------------------------------------
   Utilities
   ---------------------------------------------------------- */
.sr-only {
	position: absolute !important;
	height: 1px;
	width: 1px;
	overflow: hidden;
	clip: rect(1px, 1px, 1px, 1px);
	white-space: nowrap;
}
