@use "../../styles/mixins" as *;

/*
  Mobile-first rewrite for Investment section
  - Base styles target small screens first
  - Enhancements for medium-and-up go inside @include respond(md)
*/
.kap-investment--v3 {
	.block__content {
		/* Intro */
		.intro {
			margin-top: 0;
		}

		/* Major block spacing */
		> .intro,
		> .costs-grid,
		> .investment-summary {
			margin: var(--space-10) 0;
		}

		/* ============================ */
		/* Costs grid (MOBILE FIRST)    */
		/* ============================ */
		.costs-grid {
			display: grid;
			grid-template-columns: 1fr; /* stack on mobile */
			gap: var(--space-10);
			align-items: stretch;
		}

		/* Column wrappers */
		.therapy-costs,
		.medical-costs {
			@include flex-column;
			align-items: stretch;
			gap: var(--space-6);

			/* headings + text rhythm */
			h3 {
				margin: 0;
			}
			p {
				margin: 0;
			}

			/* container surfaces (slight contrast to separate cards) */
			background: var(--brand-8);
			border: 1px solid rgba(0, 0, 0, 0.05);
			border-radius: var(--radius-lg);
			box-shadow: var(--shadow-1);
			padding: var(--space-6);
		}

		.therapy-costs h3,
		.medical-costs h3 {
			font-weight: 600;
		}

		.medical-costs .price-cards,
		.therapy-costs .price-cards {
			margin-top: var(--space-4);
		}

		/* ============================ */
		/* Price cards (MOBILE FIRST)   */
		/* ============================ */
		.price-cards {
			margin: 0;
			padding: 0;
			list-style: none;

			display: grid;
			grid-template-columns: 1fr; /* single column on mobile */
			gap: var(--space-5);
			width: 100%;
			align-items: stretch;
		}

		.price-card {
			width: 100%;
			background: var(--color-surface);
			border: 1px solid rgba(0, 0, 0, 0.06);
			border-radius: var(--radius-lg);
			box-shadow: var(--shadow-2);
			padding: var(--space-6);
			display: grid;
			row-gap: var(--space-4);
		}

		.price-card__line {
			/* Mobile-first: stack label then value */
			display: flex;
			flex-direction: column;
			align-items: flex-start;
			row-gap: var(--space-3);
			margin-bottom: var(--space-2);
		}

		.price-card__label {
			word-wrap: break-word;
		}
		.price-card__value {
			font-variant-numeric: tabular-nums;
			white-space: nowrap;
			margin-top: var(--space-1);
		}

		.price-card__note {
			margin: 0;
			color: var(--color-muted);
		}

		.price-card__line + .price-card__sublist {
			margin-top: var(--space-3);
			padding-top: var(--space-3);
			border-top: 1px dashed rgba(0, 0, 0, 0.08);
		}
		.price-card__line + .price-card__note {
			margin-top: var(--space-3);
		}

		/* dosing sublist */
		.price-card__sublist {
			margin: 0;
			padding: 0;
			list-style: none;
			display: grid;
			grid-template-columns: 1fr; /* each sub-row full width */
			gap: var(--space-2);
		}

		.price-card__sublist > li {
			/* Mobile-first: stack label then value */
			display: flex;
			// flex-direction: column;
			align-items: center;
			justify-content: space-between;
			row-gap: var(--space-2);
			padding-left: var(--space-4);
			position: relative;
		}

		.price-card__sublist > li::before {
			content: "";
			position: absolute;
			left: 0;
			top: 0.7em;
			inline-size: 6px;
			block-size: 6px;
			border-radius: 50%;
			background: var(--color-muted);
		}

		/* ============================ */
		/* Summary emphasis (MOBILE)    */
		/* ============================ */
		.investment-summary {
			@include flex-column;
			gap: var(--space-6);

			background: var(--brand-8);
			padding: var(--space-12) var(--space-6);
			border-radius: var(--radius-lg);
			margin-bottom: 0;

			h3,
			ul {
				margin-bottom: 0;
			}
		}

		.summary-cards {
			display: flex;
			flex-wrap: wrap;
			gap: var(--space-4);
			list-style: none;
			padding: 0;
			margin: 0 0 var(--space-6);
		}

		.summary-card {
			@include flex-column;
			justify-content: center;
			align-items: center;
			gap: var(--space-4);
			padding: var(--space-4) var(--space-5);
			border: 1px solid rgba(0, 0, 0, 0.05);
			border-radius: var(--radius-md);
			background: #fff;
			line-height: 1.4;
			text-align: center;
			min-width: 16rem;
			max-width: 100%;
			flex: 1 1 18rem;
		}

		.investment-note {
			margin: 0;
			line-height: 1.6;
		}
		.investment-summary .total {
			font-variant-numeric: tabular-nums;
		}

		/* ============================ */
		/* md+ enhancements (AND UP)    */
		/* ============================ */
		@include respond(md) {
			/* two columns for the costs grid on md+ */
			.costs-grid {
				grid-template-columns: 1fr 1fr; /* therapy | medical */
				gap: var(--space-12);
				align-items: start;
			}

			/* a touch more room inside cards on larger screens */
			.price-cards > .price-card {
				padding: var(--space-6) var(--space-4);
			}
			/* md+ : return to two-column label | value */
			.price-card__line {
				display: grid;
				grid-template-columns: 1fr auto; /* label | value */
				align-items: baseline;
				column-gap: var(--space-10);
			}
			.price-card__line {
				margin-bottom: var(--space-1);
			}
			.price-card__line + .price-card__sublist {
				margin-top: var(--space-2);
				padding-top: var(--space-2);
			}
			.price-card__value {
				justify-self: end;
				text-align: right;
			}

			.price-card__sublist > li {
				display: grid;
				grid-template-columns: 1fr auto; /* label | value */
				align-items: baseline;
				column-gap: var(--space-6);
			}

			/* allow summary tiles to grow a bit wider on md+ */
			.summary-card {
				flex: 1 1 20rem;
			}
		}
	}
}
